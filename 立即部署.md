# 🚀 TRAE 1024 - 立即部署到 Vercel

## 方法1：GitHub + Vercel（推荐，最简单）⭐⭐⭐⭐⭐

### 第一步：在 GitHub 创建仓库

1. 访问：https://github.com/new
2. 填写：
   - Repository name: `trae-1024-game`
   - Description: `TRAE 1024 - The Real AI Engineer Game`
   - 选择 **Public** 或 **Private**
   - **不要**勾选 "Initialize this repository with..."
3. 点击 **Create repository**

### 第二步：推送代码到 GitHub

复制以下命令到 PowerShell（将 `YOUR_USERNAME` 替换为您的 GitHub 用户名）：

```powershell
cd C:\Users\A2Spring\Desktop\game

# 添加远程仓库
git remote add origin https://github.com/YOUR_USERNAME/trae-1024-game.git

# 推送代码
git branch -M main
git push -u origin main
```

**注意**：如果提示输入用户名和密码，使用您的 GitHub Personal Access Token 作为密码。

### 第三步：在 Vercel 导入项目

1. 访问：https://vercel.com/new
2. 选择 **Import Git Repository**
3. 找到并点击您刚创建的 `trae-1024-game` 仓库
4. Vercel 会自动识别为 Next.js 项目
5. 点击 **Deploy**（先不添加环境变量，稍后添加）

### 第四步：添加环境变量

部署完成后：

1. 在 Vercel Dashboard 找到您的项目
2. 点击 **Settings** → **Environment Variables**
3. 添加以下两个变量：

   **变量1：**
   - Name: `NEXT_PUBLIC_SUPABASE_URL`
   - Value: `https://izhxzlweswfxyvxptbih.supabase.co`
   - Environment: **Production**, **Preview**, **Development** 都勾选
   - 点击 **Save**

   **变量2：**
   - Name: `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - Value: `您的 Supabase Anon Key`
   - Environment: **Production**, **Preview**, **Development** 都勾选
   - 点击 **Save**

### 第五步：重新部署

1. 回到 **Deployments** 标签
2. 点击最新的部署
3. 点击右上角的 **...** 菜单
4. 选择 **Redeploy**
5. 等待重新部署完成（约2-3分钟）

### 完成！🎉

访问 Vercel 提供的域名（格式：`https://trae-1024-game.vercel.app`），您的游戏已经上线了！

---

## 方法2：使用 Vercel CLI（备选方案）

如果您不想使用 GitHub，可以直接使用 Vercel CLI：

### 安装 Vercel CLI

```powershell
npm install -g vercel
```

### 登录 Vercel

```powershell
vercel login
```

选择登录方式（建议使用 GitHub）

### 部署项目

```powershell
cd C:\Users\A2Spring\Desktop\game
vercel
```

按提示操作：
- Set up and deploy? → **Y**
- Which scope? → 选择 `equi's projects`
- Link to existing project? → **N**
- What's your project's name? → `trae-1024-game`
- In which directory is your code located? → `.`

### 添加环境变量

```powershell
# 添加 Supabase URL
vercel env add NEXT_PUBLIC_SUPABASE_URL production
# 输入：https://izhxzlweswfxyvxptbih.supabase.co

# 添加 Supabase Key
vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY production
# 输入：您的密钥
```

### 部署到生产环境

```powershell
vercel --prod
```

---

## 🔑 环境变量说明

| 变量名 | 值 | 说明 |
|--------|-----|------|
| `NEXT_PUBLIC_SUPABASE_URL` | `https://izhxzlweswfxyvxptbih.supabase.co` | Supabase 项目地址 |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | 您的密钥 | Supabase 匿名访问密钥 |

**在哪里找 Anon Key？**
1. 访问 Supabase Dashboard
2. 进入您的项目
3. 点击左侧 **Settings** → **API**
4. 复制 **anon public** 密钥

---

## ✅ 部署后检查清单

访问您的 Vercel 域名后，检查以下功能：

- [ ] 游戏可以正常启动并显示
- [ ] 方块可以移动和合并
- [ ] 字母可以正常收集
- [ ] 移动端触摸手势正常工作
- [ ] 胜利后可以提交分数
- [ ] 排行榜可以正常显示
- [ ] 排行榜按移动次数正确排序
- [ ] 浏览器控制台无错误（按F12查看）

---

## 🎯 后续更新

### 使用 GitHub 方式部署的项目：

每次修改代码后，只需：

```powershell
git add .
git commit -m "更新说明"
git push
```

Vercel 会自动重新部署！

### 使用 CLI 方式部署的项目：

每次修改代码后：

```powershell
vercel --prod
```

---

## 🆘 常见问题

### 1. 游戏打开了但排行榜不工作

**原因**：环境变量未配置或配置错误

**解决**：
- 检查 Vercel Dashboard → Settings → Environment Variables
- 确保两个变量都已添加且拼写正确
- 重新部署项目

### 2. 推送代码到 GitHub 时提示认证失败

**原因**：需要使用 Personal Access Token

**解决**：
1. 访问 https://github.com/settings/tokens
2. 生成新的 Token（勾选 `repo` 权限）
3. 使用 Token 作为密码

### 3. Vercel 部署失败

**原因**：构建错误或依赖问题

**解决**：
1. 在本地运行 `npm run build` 测试
2. 查看 Vercel 部署日志的错误信息
3. 确保 `package.json` 中的依赖都已安装

---

**准备好了吗？开始部署吧！** 🚀

**推荐使用方法1（GitHub + Vercel），最简单、最稳定、支持自动部署！**
